# ============================================================================
# Markdown Extensions - Maximum Syntax Support
# ============================================================================

markdown_extensions:
  # ============================================================================
  # Core Python Markdown Extensions
  # ============================================================================
  # Abbreviation tooltips
  - abbr
  # Call-out blocks
  - admonition
  # HTML attributes on elements
  - attr_list
  # Definition lists
  - def_list
  # Footnote references
  - footnotes
  # Markdown inside HTML
  - md_in_html
  # YAML frontmatter
  - meta
  # New line to break
  - nl2br
  # Better list parsing
  - sane_lists
  # Smart quotes and dashes
  - smarty
  # GitHub-flavored tables
  - tables

  # Table of Contents
  - toc:
      permalink: true
      permalink_title: Link to this section
      # Note: slugify config moved to runtime - see python-tags.conf
      toc_depth: 3

  # ============================================================================
  # PyMdown Extensions - Advanced Features
  # ============================================================================

  # Math & Chemistry
  - pymdownx.arithmatex:
      generic: true
      block_tag: "pre"

  # Text Formatting
  - pymdownx.betterem:
      smart_enable: all
  # Superscript ^text^
  - pymdownx.caret
  # Highlight ==text==
  - pymdownx.mark
  # Subscript ~text~ and strikethrough ~~text~~
  - pymdownx.tilde
  # Special characters
  - pymdownx.smartsymbols
  # Track changes
  - pymdownx.critic:
      mode: view

  # UI Elements
  # Keyboard keys ++ctrl+alt+del++
  - pymdownx.keys

  # Content Organization
  # Collapsible blocks
  - pymdownx.details
  # Include external files
  - pymdownx.snippets:
      auto_append:
        - .config/mkdocs/includes/abbreviations.md
      base_path:
        - .
        - docs
      check_paths: true

  # Code Features
  - pymdownx.highlight:
      use_pygments: true
      pygments_lang_class: true
      auto_title: true
      linenums: true
      linenums_style: pymdownx-inline
      anchor_linenums: true
      line_spans: __span

  # Inline code highlighting
  - pymdownx.inlinehilite

  - pymdownx.superfences:
      preserve_tabs: true
      # Note: custom_fences format functions defined at runtime
      # See python-tags.conf for !!python/name references
      custom_fences:
        - name: mermaid
          class: mermaid
          format: pymdownx.superfences.fence_code_format
        - name: vega
          class: vega
          format: pymdownx.superfences.fence_code_format
        - name: vega-lite
          class: vega-lite
          # Tabs
          format: pymdownx.superfences.fence_code_format

  - pymdownx.tabbed:
      alternate_style: true
      combine_header_slug: true
      # Note: slugify config moved to runtime - see python-tags.conf

  # Task Lists
  - pymdownx.tasklist:
      custom_checkbox: true
      clickable_checkbox: true

  # Emoji & Icons
  - pymdownx.emoji:
      # Note: emoji_index and emoji_generator use Python callables
      # See python-tags.conf for !!python/name references
      # Runtime defaults to twemoji/to_svg
      options:
        custom_icons:
          - .config/mkdocs/overrides/.icons
